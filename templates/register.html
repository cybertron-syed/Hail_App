{% extends "base.html" %}
{% block title %}Register{% endblock %}
{% block content %}
<div class="form-container">
    <h2>REGISTER</h2>
    <form method="POST" class="form-box">
        {{ form.hidden_tag() }}
        <div class="form-group">
            {{ form.email(class_="form-input", size=32, placeholder="Email", required=true) }}
        </div>
        <div class="form-group">
            {{ form.first_name(class_="form-input", size=32, placeholder="First Name") }}
        </div>
        <div class="form-group">
            {{ form.last_name(class_="form-input", size=32, placeholder="Last Name") }}
        </div>
        <div class="form-group password-group">
            {{ form.password(class_="form-input", size=32, placeholder="Password", required=true, id="password") }}
            <div id="password-rules" class="password-rules hidden">
                <img src="https://img.icons8.com/?size=100&id=P7N90lIvNYPd&format=png&color=FF0000" 
                     class="info-icon" alt="Info Icon" />
                <span class="guideline-text">
                    Password must be at least 8 characters long and include at least one uppercase letter, one number, and a symbol.
                </span>
            </div>
        </div>

        <div class="form-group">
            <input type="checkbox" id="terms" disabled>
            <label for="terms">
                I agree to the <a href="javascript:void(0)" id="termsLink">Terms and Conditions</a>
            </label>
            <p class="terms">Please read and accept the Terms and Conditions to proceed.</p>
        </div>

        <div class="form-group">
            {{ form.submit(class_="form-button") }}
        </div>
    </form>
</div>

<!-- Terms and Conditions Modal -->
<div id="termsModal" class="modal">
    <div class="modal-content">
        <h3>Terms and Conditions</h3>
        <div id="termsContent" class="modal-body" style="overflow-y: scroll; height: 300px;">
            <p><strong>Last updated: November 4, 2024</strong></p>
            <p>
                Welcome to Harmonia Holdings Group LLC (“we,” “us,” or “our”). By accessing or using our website and services (“Services”), you agree to be bound by these Terms and Conditions (“Terms”). Please read them carefully.
            </p>
            <ol>
                <li><strong>Acceptance of Terms</strong>
                    <p>By creating an account or using our Services, you acknowledge that you have read, understood, and agree to be bound by these Terms and any applicable laws and regulations.</p>
                </li>
                <li><strong>User Accounts</strong>
                    <ul>
                        <li><strong>Account Creation:</strong> To access certain features, you must register for an account by providing accurate and complete information.</li>
                        <li><strong>Account Security:</strong> You are responsible for maintaining the confidentiality of your password and account information. Notify us immediately of any unauthorized use.</li>
                        <li><strong>Account Use:</strong> You agree not to impersonate others or provide false information.</li>
                    </ul>
                </li>
                <li><strong>Use of Services and User Data</strong>
                    <ul>
                        <li><strong>Data Uploads:</strong> You may upload your own data to use with our algorithms. This is done at your own risk.</li>
                        <li><strong>Data Responsibility:</strong> We are not liable for any loss, damage, or unauthorized access to your data resulting from your use of the Services.</li>
                        <li><strong>Data Compliance:</strong> You represent that you have the necessary rights and permissions to upload and use the data with our Services.</li>
                    </ul>
                </li>
                <li><strong>Limitation of Liability</strong>
                    <p>
                        To the fullest extent permitted by law, Harmonia Holdings Group LLC shall not be liable for any direct, indirect, incidental, consequential, or exemplary damages, including but not limited to loss of data, loss of profits, or site downtime.
                    </p>
                </li>
                <li><strong>Site Availability and Data Loss</strong>
                    <ul>
                        <li><strong>Availability:</strong> We do not guarantee that the Services will be available at all times or without interruption.</li>
                        <li><strong>Data Loss:</strong> We are not responsible for any data loss. We recommend that you back up all important data independently.</li>
                    </ul>
                </li>
                <li><strong>User Conduct</strong>
                    <ul>
                        <li>Upload or transmit malicious code or viruses.</li>
                        <li>Infringe upon any intellectual property or other proprietary rights.</li>
                        <li>Violate any applicable laws or regulations.</li>
                        <li>Engage in any activity that disrupts or interferes with the Services.</li>
                    </ul>
                </li>
                <li><strong>Intellectual Property Rights</strong>
                    <ul>
                        <li><strong>Our Content:</strong> All content, software, and technology on the site are owned by Harmonia Holdings Group LLC and are protected by intellectual property laws.</li>
                        <li><strong>Restrictions:</strong> You may not reproduce, distribute, or create derivative works from our content without our express written permission.</li>
                    </ul>
                </li>
                <li><strong>Privacy Policy</strong>
                    <p>Our Privacy Policy explains how we collect, use, and protect your personal information. By using our Services, you agree to the terms of the Privacy Policy.</p>
                </li>
                <li><strong>Termination of Access</strong>
                    <p>
                        We reserve the right to suspend or terminate your account and access to the Services at our sole discretion, without notice, for conduct that we believe violates these Terms or is harmful to other users or us.
                    </p>
                </li>
                <li><strong>Governing Law</strong>
                    <p>
                        These Terms are governed by and construed in accordance with the laws of the State of [Your State], without regard to its conflict of law provisions. Any legal actions or proceedings shall be brought in the state or federal courts located in [Your County], [Your State].
                    </p>
                </li>
                <li><strong>Changes to Terms</strong>
                    <p>
                        We reserve the right to modify these Terms at any time. Changes will be effective immediately upon posting. Your continued use of the Services after changes are posted constitutes your acceptance of the new Terms.
                    </p>
                </li>
                <li><strong>Disclaimer of Warranties</strong>
                    <p>
                        The Services are provided on an “as is” and “as available” basis. We disclaim all warranties of any kind, express or implied, including but not limited to merchantability, fitness for a particular purpose, and non-infringement.
                    </p>
                </li>
                <li><strong>Indemnification</strong>
                    <p>
                        You agree to indemnify, defend, and hold harmless Harmonia Holdings Group LLC, its affiliates, officers, agents, and employees from any claim or demand, including reasonable attorneys’ fees, arising out of your use of the Services, violation of these Terms, or infringement of any rights of another.
                    </p>
                </li>
                <li><strong>Severability</strong>
                    <p>
                        If any provision of these Terms is found to be invalid or unenforceable, the remaining provisions shall remain in full force and effect.
                    </p>
                </li>
                <li><strong>Entire Agreement</strong>
                    <p>
                        These Terms constitute the entire agreement between you and Harmonia Holdings Group LLC regarding the use of the Services and supersede any prior agreements.
                    </p>
                </li>
                <li><strong>Contact Information</strong>
                    <p>
                        If you have any questions about these Terms, please contact us at:
                    </p>
                    <p>
                        Harmonia Holdings Group LLC<br>
                        8180 Greensboro Dr.<br>
                        Suite 1000<br>
                        Email: tic@harmonia.com
                    </p>
                </li>
            </ol>
            <p><strong>Acknowledgment:</strong> By using our Services, you acknowledge that you have read these Terms and agree to be bound by them.</p>
        </div>
        <div class="modal-footer">
            <button id="acceptButton" disabled class="modal-btn">Accept</button>
            <button id="closeButton" class="modal-btn cancel-btn">Close</button>
        </div>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function () {
    const termsLink = document.getElementById('termsLink');
    const termsModal = document.getElementById('termsModal');
    const termsContent = document.getElementById('termsContent');
    const acceptButton = document.getElementById('acceptButton');
    const closeButton = document.getElementById('closeButton');
    const termsCheckbox = document.getElementById('terms');

    // Show modal when "Terms and Conditions" link is clicked
    termsLink.addEventListener('click', function () {
        termsModal.style.display = 'block';
    });

    // Enable "Accept" button only after scrolling to the bottom of the modal content
    termsContent.addEventListener('scroll', function () {
        if (termsContent.scrollTop + termsContent.clientHeight >= termsContent.scrollHeight) {
            acceptButton.disabled = false;
        }
    });

    // On clicking "Accept", enable and check the checkbox, then close the modal
    acceptButton.addEventListener('click', function () {
        termsCheckbox.checked = true;
        termsCheckbox.disabled = false;
        termsModal.style.display = 'none';
    });

    // Close modal without taking any action
    closeButton.addEventListener('click', function () {
        termsModal.style.display = 'none';
    });

    // Prevent manual interaction with the checkbox
    termsCheckbox.addEventListener('click', function (event) {
        if (termsCheckbox.disabled) {
            event.preventDefault();
            alert('You must read and accept the Terms and Conditions to proceed.');
        }
    });
});
</script>


<!-- pop-up -->

<script>
    document.addEventListener('DOMContentLoaded', function () {
        const passwordInput = document.getElementById('password');
        const passwordRules = document.getElementById('password-rules');

        if (passwordInput) {
            passwordInput.addEventListener('focus', function () {
                passwordRules.classList.remove('hidden');
                passwordRules.classList.add('visible');
            });

            passwordInput.addEventListener('blur', function () {
                if (passwordRules.classList.contains('visible') && passwordRules.classList.contains('valid')) {
                    passwordRules.classList.remove('visible');
                    passwordRules.classList.add('hidden');
                }
            });

            passwordInput.addEventListener("input", function() {
                const password = this.value;

                const hasUpperCase = /[A-Z]/.test(password);
                const hasNumber = /\d/.test(password);
                const hasSymbol = /[!@#$%^&*(),.?":{}|<>]/.test(password);
                const isLongEnough = password.length >= 8;

                if (hasUpperCase && hasNumber && hasSymbol && isLongEnough) {
                    passwordRules.classList.add("hidden");
                    passwordRules.classList.add("valid");
                } else {
                    passwordRules.classList.remove("hidden");
                    passwordRules.classList.remove("valid");
                }
            });
        }
    });
</script>
{% endblock %}
